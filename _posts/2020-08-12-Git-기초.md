---
layout: post
title: git 기초
date: 2020-08-12
excerpt: "git 기초"
category: [Git]
tags: [git]
comments: false
---

## 목차

[1. Source Tree 사용법](#source-tree-사용법)

[2. 커밋 메시지 작성법](#커밋-메시지-작성법)

---

파일 및 폴더의 추가/변경 사항을 저장소에

커밋은 이력을 남기는 중요한 작업이기 때문에 커밋 버튼을 누를 때는 커밋 메시지를 필수로 입력해야 한다. 메시지가 없으면 커밋이 실행되지 않는다.

메시지는 명료하고 이해하기 쉽게 남겨야 본인 뿐만 아니라 다른 사람이 커밋 이력을 확인하기 쉽다. Git에서 권장하는 메시지 형식을 따르는 것도 좋다.

1번째 줄 : 커밋 내의 변경 내용을 요약
2번째 줄 : 빈 칸
3번째 줄 : 변경한 이유

주로 위 형식으로 메시지를 작성한다.

## Source Tree 사용법

---

Source Tree를 설치한다. 설치하기 위해서는 2개의 절차가 있다.

1. 아틀라시안에 가입
2. bitbucket등의 설정을 하라고 하는데 skip하는 게 편하다.

설치가 끝나면 Source Tree를 실횅하고 Clone 탭을 클릭하고 깃헙 레포지토리의 URL을 소스트리의 소스경로/URL에 붙여넣기 하고 나머지는 기본설정으로 해놓고 클론을 누르면 기본적으로 Documents 밑에 해당 레포지토리의 이름으로 폴더가 생성된다.

원하는 파일을 스테이지에 올리고 커밋을 누른다.

커밋에는 주의사항이 있다.

1. 반드시 한 번에 하나의 논리적 작업만을 커밋한다.
2. 커밋 메시지를 잘 적는다.

### 커밋 메시지 작성법

1. 첫 줄에 간단하지만 명확하게 내용을 쓴다.
2. 한 줄 비우고
3. 자세한 내용을 적는다.

먼저 커밋 하고 레포지토리에 푸시하는 절차를 거쳐 깃허브의 레포지토리에 해당 사항이 올라가게 된다.

## checkout 이용

---

- checkout을 이용하면 아주 쉽게 마지막 커밋으로 되돌아 갈 수 있다.
- Source Tree의 `코드뭉치 버리기` 기능을 사용하면 변경사항을 되돌릴 수 있다. (git에서는 checkout)

### checkout을 이용해서 저장하지 않은 변경 내용 취소하기

### branch

- 기존 내용을 유지한 채 새로운 내용을 추가하고 싶을 때 사용한다.
- checkout: 특정 브랜치(혹은 커밋)으로 돌아가고 싶을 때 사용.
- 소스트리 checkout: 브랜치 이름을 더블 클릭하는 것만으로 체크아웃 가능

프로그래밍을 하면서 어떠한 기능을 추가하거나 제거하고 싶을 때 각각의 브랜치를 다르게 해서 구분한다. 소스트리에서는 더블클릭으로 해당 브랜치로 간단하게 이동할 수 있다.

master brach는 항상 파일의 최종본이 등록되어야 한다.

최종 병합하는 과정을 merge라고 한다.

## git 브랜치 병합하기

---

### 병합이란?

하나의 브랜치를 현재 브랜치와 합치는 것을 병합이라 한다.

현재 브랜치는 헤드(HEAD) 브랜치라 한다.

예를 들어 헤드 브랜치가 master이고 여기서 version2 브랜치를 병합하면 version2의 내용이 master에 반영되게 된다.

별표가 붙어있는 브랜치가 헤드 브랜치에 해당한다.

[learngitbranching.js.org](http://learngitbranching.js.org) 사이트에서 git에 대해서 연습해볼 수 있다.

브랜치를 선택한 뒤에 마우스 우클릭—브랜치..를 선택하고 새 브랜친 항목에 브랜치 이름을 적어주면 새로운 브랜치를 만들 수 있다.

version2를 master branch에 추가하고자 할 때: master를 먼저 checkout 한 상태에서 version2 branch에서 마우스 우클릭—병합을 클릭해 'version2'를 현재 분기로 병합하시겠습니까?라는 창이 뜨면 확인을 눌러 병합을 완료한다.

병합을 완료한 후에 Push를 눌러주면 반영 완료되게 된다.

Version2가 필요 없다면 Source Tree의 브랜치 항목에서 Version2를 우클릭한 후 Version2 삭제를 눌러주면 된다.

- 헤드 브랜치에 변경사항이 없고
- 병합 대상 브랜치가 헤드로부터 시작된 경우 아주 쉽게 병합 가능 = Fast-forward
- 헤드 브랜치에 추가적인 커밋이 생기는 경우 진짜 병합이 필요해 진다.
- 충돌이 안 나면 좋겠지만, 충돌이 나더라고 겁내지 말자.
- 병합해서 충돌이 안 나려면? 보통 다른 파일에서 작업을 하면 충돌이 나지 않는다.